<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NLC Aadya Society Maintenance Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <style>
    /* ===== CSS RESET & BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #2f80ed;         /* Light blue */
      --primary-light: #e5f2ff;
      --secondary: #27ae60;       /* Green */
      --bg: #f5f8fc;
      --text: #1f2933;
      --muted: #6b7280;
      --card-bg: #ffffff;
      --border-radius-lg: 16px;
      --border-radius-md: 12px;
      --border-radius-sm: 8px;
      --shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.08);
      --transition-fast: 0.2s ease;
      --max-width: 1120px;
      --nav-height: 72px;
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    body {
      font-family: var(--font-sans);
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      max-width: 100%;
      display: block;
    }

    button {
      font-family: inherit;
      border: none;
      cursor: pointer;
    }

    /* ===== LAYOUT HELPERS ===== */
    .container {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    section {
      padding: 4rem 0;
    }

    @media (max-width: 768px) {
      section {
        padding: 3rem 0;
      }
    }

    /* ===== NAVBAR ===== */
    header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(245, 248, 252, 0.9);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(148, 163, 184, 0.25);
    }

    .nav {
      height: var(--nav-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.55rem;
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: 0.03em;
      color: var(--primary);
    }

    .logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 0.9rem;
      box-shadow: 0 6px 18px rgba(37, 99, 235, 0.35);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 1.75rem;
      font-size: 0.95rem;
    }

    .nav-links a {
      position: relative;
      color: var(--muted);
      font-weight: 500;
      transition: color var(--transition-fast);
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -4px;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      transition: width var(--transition-fast);
    }

    .nav-links a:hover {
      color: var(--primary);
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .btn {
      padding: 0.6rem 1.1rem;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.25rem;
      transition: transform var(--transition-fast),
        box-shadow var(--transition-fast),
        background var(--transition-fast),
        color var(--transition-fast),
        border-color var(--transition-fast);
      white-space: nowrap;
    }

    .btn-outline {
      background: transparent;
      border: 1px solid var(--primary);
      color: var(--primary);
    }

    .btn-outline:hover {
      background: var(--primary-light);
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(37, 99, 235, 0.16);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #fff;
      box-shadow: 0 8px 20px rgba(15, 118, 110, 0.35);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 28px rgba(37, 99, 235, 0.35);
      filter: brightness(1.03);
    }

    .btn-secondary {
      background: #e5edff;
      color: #1d4ed8;
      border-radius: 999px;
      border: 1px solid #bfdbfe;
    }

    .btn-secondary:hover {
      background: #dbeafe;
    }

    /* Mobile Nav */
    .nav-toggle {
      display: none;
      width: 36px;
      height: 36px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: #fff;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .nav-toggle span {
      width: 18px;
      height: 2px;
      border-radius: 999px;
      background: #111827;
      position: relative;
      display: block;
    }

    .nav-toggle span::before,
    .nav-toggle span::after {
      content: "";
      position: absolute;
      left: 0;
      width: 18px;
      height: 2px;
      border-radius: 999px;
      background: #111827;
      transition: transform 0.2s ease, opacity 0.2s ease, top 0.2s ease,
        bottom 0.2s ease;
    }

    .nav-toggle span::before {
      top: -6px;
    }

    .nav-toggle span::after {
      bottom: -6px;
    }

    .nav-toggle.open span {
      background: transparent;
    }

    .nav-toggle.open span::before {
      top: 0;
      transform: rotate(45deg);
    }

    .nav-toggle.open span::after {
      bottom: 0;
      transform: rotate(-45deg);
    }

    @media (max-width: 768px) {
      .nav-links {
        position: absolute;
        top: var(--nav-height);
        left: 0;
        right: 0;
        padding: 0.85rem 1.25rem 1rem;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
        background: rgba(245, 248, 252, 0.98);
        border-bottom: 1px solid rgba(148, 163, 184, 0.4);
        transform-origin: top;
        transform: scaleY(0.9);
        opacity: 0;
        pointer-events: none;
        transition: opacity var(--transition-fast),
          transform var(--transition-fast);
      }

      .nav-links.open {
        opacity: 1;
        pointer-events: auto;
        transform: scaleY(1);
      }

      .nav-actions {
        display: none;
      }

      .nav-toggle {
        display: inline-flex;
      }
    }

    /* ===== HERO SECTION ===== */
    .hero {
      padding-top: 3rem;
      padding-bottom: 4.5rem;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.2fr);
      gap: 3rem;
      align-items: center;
    }

    @media (max-width: 900px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1fr);
        gap: 2.5rem;
      }
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.15rem 0.8rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--primary);
      background: rgba(219, 234, 254, 0.8);
      border: 1px solid rgba(191, 219, 254, 0.9);
      margin-bottom: 1rem;
    }

    .badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.35);
    }

    .hero h1 {
      font-size: clamp(2.1rem, 3vw + 1rem, 3rem);
      line-height: 1.2;
      margin-bottom: 0.8rem;
      letter-spacing: 0.01em;
    }

    .hero h1 span {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      max-width: 34rem;
      font-size: 1rem;
      color: var(--muted);
      margin-bottom: 1.6rem;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      margin-bottom: 1.4rem;
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1.25rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .hero-meta span {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
    }

    .meta-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--secondary);
    }

    .hero-card {
      background: radial-gradient(circle at top left, #e0f2fe, #ecfdf5);
      border-radius: var(--border-radius-lg);
      padding: 1.8rem 1.7rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.25);
      position: relative;
      overflow: hidden;
    }

    .hero-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background-image: radial-gradient(
          circle at 0 0,
          rgba(255, 255, 255, 0.6),
          transparent 50%
        ),
        radial-gradient(
          circle at 100% 100%,
          rgba(59, 130, 246, 0.18),
          transparent 55%
        );
      opacity: 0.8;
      pointer-events: none;
    }

    .hero-card-inner {
      position: relative;
      z-index: 1;
    }

    .hero-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.1rem;
    }

    .hero-card-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.09em;
    }

    .hero-pill {
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      background: rgba(22, 163, 74, 0.08);
      color: var(--secondary);
      border: 1px solid rgba(34, 197, 94, 0.45);
    }

    .hero-stats {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.9rem;
      margin-bottom: 1.3rem;
    }

    .stat-card {
      padding: 0.85rem 0.9rem;
      border-radius: var(--border-radius-md);
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.4);
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.08);
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--muted);
      margin-bottom: 0.2rem;
    }

    .stat-value {
      font-size: 1.1rem;
      font-weight: 700;
      color: #111827;
    }

    .stat-chip {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      margin-top: 0.25rem;
      font-size: 0.7rem;
      padding: 0.1rem 0.45rem;
      border-radius: 999px;
      background: rgba(22, 163, 74, 0.08);
      color: var(--secondary);
      font-weight: 600;
    }

    .hero-steps {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      font-size: 0.78rem;
      color: var(--muted);
    }

    .hero-step-pill {
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.95);
      border: 1px dashed rgba(148, 163, 184, 0.6);
    }

    @media (max-width: 768px) {
      .hero {
        padding-top: 2.5rem;
      }

      .hero-actions {
        flex-direction: column;
        align-items: stretch;
      }

      .hero-meta {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    /* ===== SECTION HEADINGS ===== */
    .section-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .section-kicker {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.35rem;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 0.6rem;
    }

    .section-kicker-line {
      width: 28px;
      height: 1px;
      background: rgba(59, 130, 246, 0.6);
    }

    .section-title {
      font-size: 1.7rem;
      margin-bottom: 0.5rem;
    }

    .section-subtitle {
      max-width: 32rem;
      margin: 0 auto;
      font-size: 0.98rem;
      color: var(--muted);
    }

    /* ===== ABOUT SECTION ===== */
    .about-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.1fr);
      gap: 2.5rem;
      align-items: center;
    }

    .about-text {
      font-size: 0.98rem;
      color: var(--muted);
      margin-bottom: 1.5rem;
    }

    .about-points {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 0.75rem 1rem;
    }

    .about-point {
      display: flex;
      gap: 0.6rem;
      font-size: 0.9rem;
      color: var(--text);
      align-items: flex-start;
    }

    .about-icon {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      background: rgba(16, 185, 129, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--secondary);
      font-size: 0.8rem;
      flex-shrink: 0;
    }

    .about-card {
      background: #ffffff;
      border-radius: var(--border-radius-lg);
      padding: 1.5rem 1.4rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .about-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .about-card-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--muted);
    }

    .about-chip {
      padding: 0.2rem 0.65rem;
      border-radius: 999px;
      background: rgba(37, 99, 235, 0.08);
      color: var(--primary);
      font-size: 0.75rem;
      font-weight: 600;
    }

    .about-list {
      display: grid;
      gap: 0.6rem;
      font-size: 0.9rem;
      color: var(--text);
    }

    .about-list-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
    }

    .about-list-label {
      color: var(--muted);
      font-size: 0.86rem;
    }

    .about-list-value {
      font-weight: 600;
      color: #111827;
    }

    @media (max-width: 900px) {
      .about-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* ===== FEATURES SECTION ===== */
    .features {
      background: radial-gradient(circle at top left, #e0f2fe, #ecfdf5);
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1.5rem;
    }

    @media (max-width: 992px) {
      .features-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .features-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.96);
      border-radius: var(--border-radius-lg);
      padding: 1.4rem 1.3rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.35);
      transition: transform var(--transition-fast),
        box-shadow var(--transition-fast),
        border-color var(--transition-fast),
        background var(--transition-fast);
      position: relative;
      overflow: hidden;
    }

    .feature-card::after {
      content: "";
      position: absolute;
      inset: 0;
      opacity: 0;
      background: radial-gradient(
        circle at top right,
        rgba(59, 130, 246, 0.08),
        transparent 55%
      );
      transition: opacity var(--transition-fast);
    }

    .feature-card-inner {
      position: relative;
      z-index: 1;
    }

    .feature-icon {
      width: 36px;
      height: 36px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 1.05rem;
      margin-bottom: 1rem;
      box-shadow: 0 10px 22px rgba(37, 99, 235, 0.34);
    }

    .feature-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }

    .feature-text {
      font-size: 0.9rem;
      color: var(--muted);
    }

    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 36px rgba(15, 23, 42, 0.18);
      border-color: rgba(59, 130, 246, 0.55);
      background: #ffffff;
    }

    .feature-card:hover::after {
      opacity: 1;
    }

    /* ===== HOW IT WORKS SECTION ===== */
    .how-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.2fr);
      gap: 2.5rem;
      align-items: center;
    }

    @media (max-width: 900px) {
      .how-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .steps-list {
      display: grid;
      gap: 1rem;
    }

    .step-card {
      display: grid;
      grid-template-columns: auto minmax(0, 1fr);
      gap: 0.85rem;
      align-items: flex-start;
    }

    .step-number {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      border: 1px solid rgba(59, 130, 246, 0.6);
      color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: 700;
      background: rgba(219, 234, 254, 0.7);
      box-shadow: 0 4px 10px rgba(37, 99, 235, 0.15);
      flex-shrink: 0;
    }

    .step-title {
      font-size: 0.98rem;
      font-weight: 600;
      margin-bottom: 0.15rem;
    }

    .step-text {
      font-size: 0.9rem;
      color: var(--muted);
    }

    .how-card {
      background: #ffffff;
      border-radius: var(--border-radius-lg);
      padding: 1.4rem 1.3rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .how-card-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.9rem;
      padding: 0.55rem 0;
      border-bottom: 1px dashed rgba(203, 213, 225, 0.9);
    }

    .how-card-row:last-child {
      border-bottom: none;
    }

    .how-label {
      color: var(--muted);
    }

    .how-value {
      font-weight: 600;
      color: #111827;
    }

    /* ===== CONTACT & FOOTER ===== */
    .contact {
      padding-bottom: 3.5rem;
    }

    .contact-card {
      max-width: 640px;
      margin: 0 auto;
      background: #ffffff;
      border-radius: var(--border-radius-lg);
      padding: 1.6rem 1.5rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.25);
      display: grid;
      gap: 0.9rem;
      font-size: 0.92rem;
    }

    .contact-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem 1rem;
      align-items: center;
    }

    .contact-label {
      font-weight: 600;
      color: var(--muted);
      min-width: 70px;
    }

    .contact-value {
      color: var(--text);
    }

    footer {
      border-top: 1px solid rgba(148, 163, 184, 0.4);
      background: #f9fafb;
    }

    .footer-inner {
      padding: 1.2rem 0 1.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      align-items: center;
      justify-content: space-between;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .footer-brand {
      font-weight: 600;
      color: var(--text);
    }

    .footer-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem 1.2rem;
      align-items: center;
    }

    @media (max-width: 640px) {
      .footer-inner {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    /* ===== MODAL (LOGIN) ===== */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.45);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 60;
      padding: 1.2rem;
    }

    .modal-backdrop.active {
      display: flex;
    }

    .modal {
      max-width: 420px;
      width: 100%;
      background: #ffffff;
      border-radius: 18px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.35);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(148, 163, 184, 0.5);
      animation: fadeInUp 0.2s ease-out;
    }

    .modal-header {
      padding: 1.1rem 1.3rem;
      border-bottom: 1px solid rgba(226, 232, 240, 0.9);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
      background: radial-gradient(circle at top left, #e0f2fe, #ecfdf5);
    }

    .modal-title {
      font-size: 1rem;
      font-weight: 700;
      color: #111827;
    }

    .modal-subtitle {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .modal-close {
      background: transparent;
      border-radius: 999px;
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      color: #6b7280;
      border: 1px solid rgba(148, 163, 184, 0.7);
      transition: background var(--transition-fast),
        color var(--transition-fast),
        transform var(--transition-fast);
    }

    .modal-close:hover {
      background: rgba(248, 250, 252, 0.95);
      color: #111827;
      transform: translateY(-1px);
    }

    .modal-body {
      padding: 1.3rem 1.3rem 1.4rem;
    }

    .field {
      margin-bottom: 0.9rem;
    }

    .field label {
      display: block;
      margin-bottom: 0.25rem;
      font-size: 0.85rem;
      font-weight: 600;
      color: #111827;
    }

    .field input {
      width: 100%;
      padding: 0.6rem 0.75rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      font-size: 0.9rem;
      outline: none;
      transition: border-color 0.18s ease, box-shadow 0.18s ease,
        background var(--transition-fast);
      background: #f9fafb;
    }

    .field input:focus {
      border-color: rgba(37, 99, 235, 0.9);
      box-shadow: 0 0 0 3px rgba(191, 219, 254, 0.95);
      background: #ffffff;
    }

    /* Password Input Wrapper with Toggle */
    .password-input-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .password-input-wrapper input {
      padding-right: 2.5rem;
    }

    .password-toggle {
      position: absolute;
      right: 0.5rem;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0.25rem 0.5rem;
      font-size: 1rem;
      color: var(--muted);
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: color var(--transition-fast), background var(--transition-fast);
      z-index: 1;
    }

    .password-toggle:hover {
      color: var(--primary);
      background: rgba(59, 130, 246, 0.1);
    }

    .password-toggle:active {
      transform: scale(0.95);
    }

    .modal-footer {
      margin-top: 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .modal-footer button {
      width: 100%;
    }

    .modal-tip {
      font-size: 0.78rem;
      color: var(--muted);
      text-align: center;
    }

    /* ===== SIGN-UP MODAL EXTRA STYLES ===== */
    .modal-actions {
      margin-top: 1.1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      justify-content: flex-end;
    }

    .modal-actions .btn {
      min-width: 120px;
    }

    @media (max-width: 480px) {
      .modal-actions {
        flex-direction: column-reverse;
        align-items: stretch;
      }

      .modal-actions .btn {
        width: 100%;
      }
    }

    .error-text {
      font-size: 0.75rem;
      color: #dc2626;
      margin-top: 0.2rem;
      display: none;
    }

    .error-text.visible {
      display: block;
    }

    .field input.error {
      border-color: #dc2626;
      box-shadow: 0 0 0 2px rgba(248, 113, 113, 0.65);
      background: #fef2f2;
    }

    /* API Response Message Styles */
    #signUpApiMessage {
      display: none;
      margin-top: 0.75rem;
      padding: 0.75rem;
      border-radius: 8px;
      font-size: 0.85rem;
      text-align: center;
      font-weight: 500;
    }

    #signUpApiMessage.success {
      display: block;
      background: rgba(22, 163, 74, 0.1);
      color: #16a34a;
      border: 1px solid rgba(22, 163, 74, 0.3);
    }

    #signUpApiMessage.error {
      display: block;
      background: rgba(220, 38, 38, 0.1);
      color: #dc2626;
      border: 1px solid rgba(220, 38, 38, 0.3);
    }

    /* Login API Response Message Styles */
    #loginApiMessage {
      display: none;
      margin-top: 0.75rem;
      padding: 0.75rem;
      border-radius: 8px;
      font-size: 0.85rem;
      text-align: center;
      font-weight: 500;
    }

    #loginApiMessage.success {
      display: block;
      background: rgba(22, 163, 74, 0.1);
      color: #16a34a;
      border: 1px solid rgba(22, 163, 74, 0.3);
    }

    #loginApiMessage.error {
      display: block;
      background: rgba(220, 38, 38, 0.1);
      color: #dc2626;
      border: 1px solid rgba(220, 38, 38, 0.3);
    }

    /* Disabled button state */
    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      pointer-events: none;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <!-- ===== HEADER / NAVBAR ===== -->
  <header>
    <div class="container">
      <nav class="nav">
        <a href="#top" class="logo">
          <div class="logo-mark">NA</div>
          <div>
            NLC Aadya
            <div style="font-size: 0.7rem; font-weight: 500; color: #6b7280;">
              Society Maintenance Portal
            </div>
          </div>
        </a>

        <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
          <span></span>
        </button>

        <div class="nav-links" id="navLinks">
          <a href="#hero">Home</a>
          <a href="#about">About Society</a>
          <a href="#features">Features</a>
          <a href="#contact">Contact</a>
        </div>

        <div class="nav-actions">
          <button type="button" class="btn btn-outline" id="openSignUpNav">Sign Up</button>
          <button class="btn btn-primary" id="loginBtnNav">Login</button>
        </div>
      </nav>
    </div>
  </header>

  <!-- ===== HERO SECTION ===== -->
  <main id="top">
    <section class="hero" id="hero">
      <div class="container">
        <div class="hero-grid">
          <!-- Hero Left -->
          <div>
            <div class="badge">
              <span class="badge-dot"></span>
              NLC Aadya Society Maintenance Portal
            </div>
            <h1>
              Welcome to
              <span>NLC Aadya Society Maintenance Portal</span>
            </h1>
            <p class="hero-subtitle">
              Manage maintenance, payments, notices, and community updates ‚Äî
              all in one secure, easy-to-use portal designed for your society.
            </p>

            <div class="hero-actions">
              <button type="button" class="btn btn-primary" id="openSignUpHero">
                Become a Society Member
              </button>
              <button class="btn btn-outline" id="loginBtnHero">
                Member Login
              </button>
            </div>

            <div class="hero-meta">
              <span>
                <span class="meta-dot"></span>
                Transparent maintenance billing
              </span>
              <span>
                <span class="meta-dot" style="background: var(--primary);"></span>
                Real-time notices & updates
              </span>
            </div>
          </div>

          <!-- Hero Right Visual -->
          <div>
            <div class="hero-card">
              <div class="hero-card-inner">
                <div class="hero-card-header">
                  <div>
                    <div class="hero-card-title">
                      Society Snapshot
                    </div>
                    <div style="font-size: 0.8rem; color: var(--muted);">
                      At a glance overview for members
                    </div>
                  </div>
                  <div class="hero-pill">Live & Secure</div>
                </div>

                <div class="hero-stats">
                  <div class="stat-card">
                    <div class="stat-label">Active Flats</div>
                    <div class="stat-value">120+</div>
                    <div class="stat-chip">
                      ‚óè Verified Residents
                    </div>
                  </div>
                  <div class="stat-card">
                    <div class="stat-label">On-time Payments</div>
                    <div class="stat-value">95%</div>
                    <div class="stat-chip">
                      ‚úì Auto reminders
                    </div>
                  </div>
                </div>

                <div class="hero-steps">
                  <div class="hero-step-pill">
                    1. Register as a Society Member
                  </div>
                  <div class="hero-step-pill">
                    2. Login to your Member Dashboard
                  </div>
                  <div class="hero-step-pill">
                    3. Pay maintenance, raise issues, view notices
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- End Hero Right -->
        </div>
      </div>
    </section>

    <!-- ===== ABOUT SECTION ===== -->
    <section id="about">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">
            <span class="section-kicker-line"></span>
            About Society
            <span class="section-kicker-line"></span>
          </div>
          <h2 class="section-title">About NLC Aadya Society</h2>
          <p class="section-subtitle">
            NLC Aadya is a well-planned residential community focused on
            safety, transparency, and a strong sense of togetherness among
            residents.
          </p>
        </div>

        <div class="about-grid">
          <div>
            <p class="about-text">
              The NLC Aadya Society brings residents together under a
              thoughtfully designed, secure campus, with clear and transparent
              management of maintenance and everyday operations. The
              Maintenance Portal helps residents stay informed, engaged, and
              in control of their payments and requests.
            </p>

            <div class="about-points">
              <div class="about-point">
                <div class="about-icon">‚úì</div>
                <div>Well-planned residential society with modern amenities.</div>
              </div>
              <div class="about-point">
                <div class="about-icon">üîí</div>
                <div>Secure, community-driven environment for families.</div>
              </div>
              <div class="about-point">
                <div class="about-icon">üìä</div>
                <div>Transparent maintenance charges & billing history.</div>
              </div>
              <div class="about-point">
                <div class="about-icon">üì¢</div>
                <div>Central place for notices, events, and updates.</div>
              </div>
            </div>
          </div>

          <div>
            <div class="about-card">
              <div class="about-card-header">
                <div class="about-card-title">
                  Society At A Glance
                </div>
                <span class="about-chip">Resident Focused</span>
              </div>
              <div class="about-list">
                <div class="about-list-item">
                  <span class="about-list-label">Location</span>
                  <span class="about-list-value">
                    NLC Aadya Residential Society
                  </span>
                </div>
                <div class="about-list-item">
                  <span class="about-list-label">Blocks / Towers</span>
                  <span class="about-list-value">Multiple wings</span>
                </div>
                <div class="about-list-item">
                  <span class="about-list-label">Security</span>
                  <span class="about-list-value">
                    24x7 security & access control
                  </span>
                </div>
                <div class="about-list-item">
                  <span class="about-list-label">Maintenance</span>
                  <span class="about-list-value">
                    Online management through portal
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== FEATURES SECTION ===== -->
    <section class="features" id="features">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">
            <span class="section-kicker-line"></span>
            Features
            <span class="section-kicker-line"></span>
          </div>
          <h2 class="section-title">Everything your society needs, in one place</h2>
          <p class="section-subtitle">
            Simple tools that help residents stay updated, pay on time, and
            raise issues quickly ‚Äî all from a secure member dashboard.
          </p>
        </div>

        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-card-inner">
              <div class="feature-icon">‚Çπ</div>
              <h3 class="feature-title">Online Maintenance Payments</h3>
              <p class="feature-text">
                View bills, track due dates, and pay your monthly or quarterly
                maintenance online with complete transparency.
              </p>
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-inner">
              <div class="feature-icon">üõ†</div>
              <h3 class="feature-title">Complaint & Issue Tracking</h3>
              <p class="feature-text">
                Raise complaints for building, utilities, or services and
                track their status until resolution, all in one place.
              </p>
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-inner">
              <div class="feature-icon">üìú</div>
              <h3 class="feature-title">Notices & Announcements</h3>
              <p class="feature-text">
                Receive important society notices, circulars, and policy
                updates directly in your dashboard and email.
              </p>
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-inner">
              <div class="feature-icon">üéâ</div>
              <h3 class="feature-title">Event Updates</h3>
              <p class="feature-text">
                Stay connected with upcoming cultural programs, festivals,
                and community events happening in the society.
              </p>
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-inner">
              <div class="feature-icon">üîê</div>
              <h3 class="feature-title">Secure Member Dashboard</h3>
              <p class="feature-text">
                Each flat gets its own secured login to access payments,
                documents, and request history with role-based access.
              </p>
            </div>
          </div>

          <div class="feature-card">
            <div class="feature-card-inner">
              <div class="feature-icon">‚è±</div>
              <h3 class="feature-title">Time-Saving & Organized</h3>
              <p class="feature-text">
                Reduce paperwork and manual follow-ups by managing everything
                digitally, with records available anytime.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== HOW IT WORKS SECTION ===== -->
    <section id="how">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">
            <span class="section-kicker-line"></span>
            How It Works
            <span class="section-kicker-line"></span>
          </div>
          <h2 class="section-title">Getting started is simple</h2>
          <p class="section-subtitle">
            In just three quick steps, you can get full access to your
            maintenance details, notices, and community updates.
          </p>
        </div>

        <div class="how-grid">
          <div class="steps-list">
            <div class="step-card">
              <div class="step-number">1</div>
              <div>
                <div class="step-title">Register as a Society Member</div>
                <p class="step-text">
                  Click on "Become a Society Member" and complete a short
                  registration form with your flat details and contact
                  information.
                </p>
              </div>
            </div>

            <div class="step-card">
              <div class="step-number">2</div>
              <div>
                <div class="step-title">Login to your Dashboard</div>
                <p class="step-text">
                  Once approved, use your User ID and password to securely log
                  in to the NLC Aadya Member Dashboard.
                </p>
              </div>
            </div>

            <div class="step-card">
              <div class="step-number">3</div>
              <div>
                <div class="step-title">
                  Pay maintenance, raise requests, view notices
                </div>
                <p class="step-text">
                  Manage maintenance payments, submit complaints, and stay
                  updated with important society notices from one place.
                </p>
              </div>
            </div>
          </div>

          <div>
            <div class="how-card">
              <div class="how-card-row">
                <span class="how-label">New member?</span>
                <span class="how-value">
                  <button
                    type="button"
                    id="openSignUpHow"
                    style="color: var(--primary); background: transparent; border: none; padding: 0; font: inherit; cursor: pointer;"
                  >
                    Register now ‚Üí
                  </button>
                </span>
              </div>
              <div class="how-card-row">
                <span class="how-label">Existing member?</span>
                <span class="how-value" style="color: var(--secondary);">
                  Use your Flat Number & User ID to log in.
                </span>
              </div>
              <div class="how-card-row">
                <span class="how-label">Support</span>
                <span class="how-value">
                  Society office during working hours.
                </span>
              </div>
              <div class="how-card-row">
                <span class="how-label">Access</span>
                <span class="how-value">
                  Protected by secure login and role-based access.
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== CONTACT SECTION ===== -->
    <section id="contact" class="contact">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">
            <span class="section-kicker-line"></span>
            Contact
            <span class="section-kicker-line"></span>
          </div>
          <h2 class="section-title">Get in touch with the society office</h2>
          <p class="section-subtitle">
            For registration support, payment queries, or general assistance,
            feel free to connect using the details below.
          </p>
        </div>

        <div class="contact-card">
          <div class="contact-row">
            <span class="contact-label">Email</span>
            <span class="contact-value">support@nlcaadya-society.in</span>
          </div>
          <div class="contact-row">
            <span class="contact-label">Phone</span>
            <span class="contact-value">+91-98765-43210</span>
          </div>
          <div class="contact-row">
            <span class="contact-label">Office Hours</span>
            <span class="contact-value">Mon‚ÄìSat, 10:00 AM ‚Äì 6:00 PM</span>
          </div>
          <div class="contact-row">
            <span class="contact-label">Address</span>
            <span class="contact-value">
              NLC Aadya Residential Society, <br />
              (Full address details to be added here)
            </span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer>
    <div class="container">
      <div class="footer-inner">
        <div class="footer-brand">
          NLC Aadya Society Maintenance Portal
        </div>
        <div class="footer-meta">
          <span>¬© <span id="year"></span> NLC Aadya Society</span>
          <span>All rights reserved.</span>
        </div>
      </div>
    </div>
  </footer>

  <!-- ===== LOGIN MODAL ===== -->
  <div class="modal-backdrop" id="loginModal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <div class="modal-header">
        <div>
          <div class="modal-title" id="loginTitle">Member Login</div>
          <div class="modal-subtitle">
            Enter your flat details and credentials to access the portal.
          </div>
        </div>
        <button class="modal-close" id="modalCloseBtn" aria-label="Close login dialog">
          √ó
        </button>
      </div>
      <div class="modal-body">
        <form id="loginForm" onsubmit="return false;">
          <div class="field">
            <label for="flatNumber">Flat Number</label>
            <input
              type="text"
              id="flatNumber"
              name="flatNumber"
              placeholder="e.g.,101"
              autocomplete="off"
            />
          </div>
          <div class="field">
            <label for="loginMobileNumber">Mobile Number</label>
            <input
              type="tel"
              id="loginMobileNumber"
              name="mobileNumber"
              placeholder="Enter your mobile number"
              inputmode="numeric"
              pattern="[0-9]*"
              autocomplete="tel"
              required
            />
          </div>
          <div class="field">
            <label for="loginPassword">Password</label>
            <div class="password-input-wrapper">
              <input
                type="password"
                id="loginPassword"
                name="password"
                placeholder="Enter your password"
                autocomplete="current-password"
                required
              />
              <button
                type="button"
                class="password-toggle"
                id="toggleLoginPassword"
                aria-label="Toggle password visibility"
              >
                üëÅ
              </button>
            </div>
          </div>
          <!-- Login Error Message Area -->
          <div id="loginApiMessage" style="display: none; margin-top: 0.75rem; padding: 0.75rem; border-radius: 8px; font-size: 0.85rem; text-align: center;"></div>

          <div class="modal-footer">
            <button type="submit" class="btn btn-primary" id="loginSubmitBtn">
              Login
            </button>
            <div class="modal-tip">
              For login assistance, please contact the society office.
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ===== SIGN-UP MODAL ===== -->
  <div
    class="modal-backdrop"
    id="signUpModal"
    aria-hidden="true"
    aria-label="Society Member Sign Up Modal"
  >
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="signUpTitle">
      <div class="modal-header">
        <div>
          <div class="modal-title" id="signUpTitle">Society Member Sign Up</div>
          <div class="modal-subtitle">
            Please provide your basic details to register as a member of NLC Aadya Society.
          </div>
        </div>
        <button
          type="button"
          class="modal-close"
          id="signUpCloseBtn"
          aria-label="Close Sign Up Form"
        >
          √ó
        </button>
      </div>
      <div class="modal-body">
        <form id="signUpForm" novalidate>
          <div class="field">
            <label for="signupFullName">Full Name</label>
            <input
              type="text"
              id="signupFullName"
              name="fullName"
              placeholder="Enter your full name"
              required
            />
            <div class="error-text" id="errorSignupFullName">Full Name is required.</div>
          </div>

          <div class="field">
            <label for="signupMobileNumber">Mobile Number</label>
            <input
              type="tel"
              id="signupMobileNumber"
              name="mobileNumber"
              placeholder="Enter your 10-digit mobile number"
              inputmode="numeric"
              pattern="[0-9]*"
              maxlength="10"
              required
            />
            <div class="error-text" id="errorSignupMobileNumber">
              Please enter a valid 10-digit mobile number.
            </div>
          </div>

          <div class="field">
            <label for="signupEmail">Email Address</label>
            <input
              type="email"
              id="signupEmail"
              name="email"
              placeholder="Enter your email address"
              required
            />
            <div class="error-text" id="errorSignupEmail">Please enter a valid email address.</div>
          </div>

          <div class="field">
            <label for="signupFlatNumber">Flat Number</label>
            <input
              type="text"
              id="signupFlatNumber"
              name="flatNumber"
              placeholder="e.g., A-101"
              maxlength="20"
              required
            />
            <div class="error-text" id="errorSignupFlatNumber">Flat Number is required.</div>
          </div>

          <div class="field">
            <label for="signupPassword">Password</label>
            <div class="password-input-wrapper">
              <input
                type="password"
                id="signupPassword"
                name="password"
                placeholder="Enter your password"
                required
                autocomplete="new-password"
              />
              <button
                type="button"
                class="password-toggle"
                id="togglePassword"
                aria-label="Toggle password visibility"
              >
                üëÅ
              </button>
            </div>
            <div class="error-text" id="errorSignupPassword">
              Password must be at least 8 characters with 1 uppercase letter and 1 number.
            </div>
          </div>

          <div class="field">
            <label for="signupConfirmPassword">Confirm Password</label>
            <div class="password-input-wrapper">
              <input
                type="password"
                id="signupConfirmPassword"
                name="confirmPassword"
                placeholder="Confirm your password"
                required
                autocomplete="new-password"
              />
              <button
                type="button"
                class="password-toggle"
                id="toggleConfirmPassword"
                aria-label="Toggle confirm password visibility"
              >
                üëÅ
              </button>
            </div>
            <div class="error-text" id="errorSignupConfirmPassword">
              Passwords do not match.
            </div>
          </div>

          <!-- API Response Message Area -->
          <div id="signUpApiMessage" style="display: none; margin-top: 0.75rem; padding: 0.75rem; border-radius: 8px; font-size: 0.85rem; text-align: center;"></div>

          <div class="modal-actions">
            <button type="button" class="btn btn-secondary" id="signUpCancelBtn">
              Cancel
            </button>
            <button type="submit" class="btn btn-primary" id="signUpSubmitBtn">
              Register / Sign Up
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ===== MINIMAL JAVASCRIPT ===== -->
  <script>
    (function () {
      // Set current year in footer
      var yearSpan = document.getElementById("year");
      if (yearSpan) {
        yearSpan.textContent = new Date().getFullYear();
      }

      // Mobile nav toggle
      var navToggle = document.getElementById("navToggle");
      var navLinks = document.getElementById("navLinks");

      if (navToggle && navLinks) {
        navToggle.addEventListener("click", function () {
          navToggle.classList.toggle("open");
          navLinks.classList.toggle("open");
        });

        // Close mobile menu on link click
        navLinks.addEventListener("click", function (e) {
          if (e.target.tagName === "A") {
            navToggle.classList.remove("open");
            navLinks.classList.remove("open");
          }
        });
      }

      // Login modal logic
      var loginModal = document.getElementById("loginModal");
      var loginBtnNav = document.getElementById("loginBtnNav");
      var loginBtnHero = document.getElementById("loginBtnHero");
      var modalCloseBtn = document.getElementById("modalCloseBtn");

      function openModal() {
        if (!loginModal) return;
        loginModal.classList.add("active");
        var firstField = document.getElementById("flatNumber");
        if (firstField) {
          setTimeout(function () {
            firstField.focus();
          }, 50);
        }
      }

      function closeModal() {
        if (!loginModal) return;
        loginModal.classList.remove("active");
        // Clear form and reset state
        if (loginForm) {
          loginForm.reset();
        }
        hideLoginMessage();
        setLoginButtonLoading(false);
        // Reset password toggle
        if (loginPasswordInput && toggleLoginPasswordBtn) {
          loginPasswordInput.setAttribute("type", "password");
          toggleLoginPasswordBtn.textContent = "üëÅ";
        }
      }

      if (loginBtnNav) {
        loginBtnNav.addEventListener("click", openModal);
      }
      if (loginBtnHero) {
        loginBtnHero.addEventListener("click", openModal);
      }
      if (modalCloseBtn) {
        modalCloseBtn.addEventListener("click", closeModal);
      }

      // Close modal when clicking outside popup
      if (loginModal) {
        loginModal.addEventListener("click", function (e) {
          if (e.target === loginModal) {
            closeModal();
          }
        });
      }

      // ===== SESSION MANAGEMENT UTILITIES =====
      
      /**
       * Check if user is logged in
       * @returns {boolean} True if logged in
       */
      function isUserLoggedIn() {
        try {
          return sessionStorage.getItem("isLoggedIn") === "true";
        } catch (e) {
          return false;
        }
      }

      /**
       * Get logged-in member info
       * @returns {Object|null} Member info or null
       */
      function getLoggedInMember() {
        try {
          if (!isUserLoggedIn()) return null;
          const memberData = sessionStorage.getItem("loggedInMember");
          return memberData ? JSON.parse(memberData) : null;
        } catch (e) {
          console.error("Error reading session data:", e);
          return null;
        }
      }

      /**
       * Clear all session data
       */
      function clearSession() {
        try {
          sessionStorage.removeItem("isLoggedIn");
          sessionStorage.removeItem("memberFullName");
          sessionStorage.removeItem("memberFlatNumber");
          sessionStorage.removeItem("loginTime");
          sessionStorage.removeItem("loggedInMember");
        } catch (e) {
          console.error("Error clearing session:", e);
        }
      }

      /**
       * Handle browser back button - prevent access to protected pages
       */
      function handleBrowserBackButton() {
        // If user navigates back after login, clear session and redirect to login
        window.addEventListener("popstate", function(event) {
          if (isUserLoggedIn()) {
            // User is logged in but trying to go back - clear session
            clearSession();
            // Redirect to login page
            window.location.href = "Home.html";
          }
        });

        // Push a state when page loads to enable back button detection
        if (isUserLoggedIn()) {
          history.pushState({ loggedIn: true }, "", window.location.href);
        }
      }

      // Initialize back button handling
      handleBrowserBackButton();

      // Check if user is already logged in - redirect to dashboard
      (function checkExistingSession() {
        if (isUserLoggedIn()) {
          // User is already logged in - redirect to dashboard
          window.location.replace("index.html");
        }
      })();

      // ===== LOGIN FUNCTIONALITY =====
      var loginForm = document.getElementById("loginForm");
      var loginFlatInput = document.getElementById("flatNumber");
      var loginMobileInput = document.getElementById("loginMobileNumber");
      var loginPasswordInput = document.getElementById("loginPassword");
      var loginSubmitBtn = document.getElementById("loginSubmitBtn");
      var loginApiMessage = document.getElementById("loginApiMessage");
      var toggleLoginPasswordBtn = document.getElementById("toggleLoginPassword");

      // Password toggle for login form
      if (toggleLoginPasswordBtn && loginPasswordInput) {
        toggleLoginPasswordBtn.addEventListener("click", function () {
          var type = loginPasswordInput.getAttribute("type") === "password" ? "text" : "password";
          loginPasswordInput.setAttribute("type", type);
          toggleLoginPasswordBtn.textContent = type === "password" ? "üëÅ" : "üôà";
        });
      }

      // Keep mobile field numeric-only
      if (loginMobileInput) {
        loginMobileInput.addEventListener("input", function () {
          this.value = this.value.replace(/\\D/g, "");
        });
      }

      /**
       * Show login error message
       * @param {string} message - Error message to display
       */
      function showLoginMessage(message, type) {
        if (!loginApiMessage) return;
        loginApiMessage.textContent = message;
        loginApiMessage.className = type;
        loginApiMessage.style.display = "block";
        loginApiMessage.scrollIntoView({ behavior: "smooth", block: "nearest" });
      }

      /**
       * Hide login error message
       */
      function hideLoginMessage() {
        if (!loginApiMessage) return;
        loginApiMessage.style.display = "none";
        loginApiMessage.className = "";
        loginApiMessage.textContent = "";
      }

      /**
       * Set login button loading state
       * @param {boolean} isLoading - Whether button should be in loading state
       */
      function setLoginButtonLoading(isLoading) {
        if (!loginSubmitBtn) return;
        if (isLoading) {
          loginSubmitBtn.disabled = true;
          loginSubmitBtn.textContent = "Logging in‚Ä¶";
        } else {
          loginSubmitBtn.disabled = false;
          loginSubmitBtn.textContent = "Login";
        }
      }

      /**
       * Azure Blob Storage Configuration
       * 
       * IMPORTANT: Update this URL with your actual Azure Blob Storage URL for SocietyMemberInfo.json
       * 
       * Options:
       * 1. Public blob URL: https://<storage-account>.blob.core.windows.net/society-data/SocietyMemberInfo.json
       * 2. Blob-level SAS token URL: https://<storage-account>.blob.core.windows.net/society-data/SocietyMemberInfo.json?<sas-token>
       * 3. Container-level SAS token URL: https://<storage-account>.blob.core.windows.net/society-data/SocietyMemberInfo.json?<sas-token>
       *    (Note: Container-level SAS may work, but blob-level SAS is recommended)
       * 
       * Container name: "society-data"
       * Blob name: "SocietyMemberInfo.json"
       * 
       * If you get a 403 error:
       * - Ensure the blob name is included in the URL path
       * - Verify the SAS token has read (r) permissions
       * - Check if the SAS token has expired
       * - Consider generating a blob-level SAS token instead of container-level
       * - Or use an Azure Function/API endpoint as a proxy to fetch the data
       * 
       * To generate a blob-level SAS token in Azure Portal:
       * 1. Navigate to your storage account > Containers > society-data
       * 2. Select SocietyMemberInfo.json blob
       * 3. Click "Generate SAS" tab
       * 4. Set permissions: Read (r)
       * 5. Set expiry time
       * 6. Generate and copy the SAS token
       */
      const SOCIETY_MEMBER_JSON_URL = "https://societymantaintracker.blob.core.windows.net/society-data/SocietyMemberInfo.json?sp=racw&st=2025-12-17T16:31:57Z&se=2026-01-30T00:46:57Z&spr=https&sv=2024-11-04&sr=c&sig=S2EYStkBhD5An1Z9j%2Fhk0f%2Bptxy72aiAFskkpFRmO5I%3D";

      /**
       * Fetch society member data from Azure Blob Storage
       * @returns {Promise<Object>} SocietyMemberFile object with Members array
       */
      async function fetchSocietyMemberData() {
        try {
          const response = await fetch(SOCIETY_MEMBER_JSON_URL, {
            method: "GET",
            cache: "no-cache",
            headers: {
              "Cache-Control": "no-cache",
              "Pragma": "no-cache"
            }
          });

          if (!response.ok) {
            // Provide specific error messages for common HTTP status codes
            if (response.status === 403) {
              throw new Error("Access denied (403). Please check if the blob URL and SAS token are correct, or if the blob requires public read access.");
            } else if (response.status === 404) {
              throw new Error("Member data file not found (404). Please verify the blob name and container name.");
            } else {
              throw new Error(`HTTP ${response.status}: Failed to fetch member data`);
            }
          }

          // Get response text first (Azure Blob Storage may not set Content-Type correctly)
          const responseText = await response.text();
          
          // Try to parse as JSON
          let data;
          try {
            data = JSON.parse(responseText);
          } catch (parseError) {
            // If parsing fails, check if response looks like HTML (error page) or other format
            if (responseText.trim().startsWith("<")) {
              throw new Error("Received HTML instead of JSON. The blob URL may be incorrect or the file doesn't exist.");
            }
            // Log the actual response for debugging
            console.error("Failed to parse JSON. Response:", responseText.substring(0, 200));
            throw new Error("Invalid JSON format received from server. The file may be corrupted or not a valid JSON file.");
          }
          
          // Validate data structure
          if (!data || typeof data !== "object") {
            throw new Error("Invalid data format received from server.");
          }

          return data;
        } catch (error) {
          console.error("Error fetching society member data:", error);
          
          // Re-throw with original error message if it's already a custom error
          if (error.message && error.message.includes("HTTP") || error.message.includes("Access denied") || error.message.includes("not found")) {
            throw error;
          }
          
          // Generic error for network issues
          throw new Error("Unable to connect to server. Please check your internet connection and try again.");
        }
      }

      /**
       * Verify login credentials
       * @param {string} mobileNumber - Mobile number
       * @param {string} flatNumber - Flat number
       * @param {string} password - Password
       * @returns {Promise<Object>} { success: boolean, member: Object|null, error: string|null }
       */
      async function verifyLoginCredentials(mobileNumber, flatNumber, password) {
        try {
          // Fetch member data from Azure Blob Storage
          const memberFile = await fetchSocietyMemberData();

          if (!memberFile || !memberFile.Members || !Array.isArray(memberFile.Members)) {
            return {
              success: false,
              member: null,
              error: "Invalid member data format."
            };
          }

          // Find matching member by mobile number and flat number (case-insensitive)
          const normalizedMobile = mobileNumber.trim();
          const normalizedFlat = flatNumber.trim();

          const member = memberFile.Members.find(m => {
            const memberMobile = (m.MobileNumber || "").trim();
            const memberFlat = (m.FlatNumber || "").trim();
            return (
              memberMobile === normalizedMobile &&
              memberFlat.toLowerCase() === normalizedFlat.toLowerCase()
            );
          });

          if (!member) {
            return {
              success: false,
              member: null,
              error: "Invalid mobile number or flat number."
            };
          }

          // Verify password (case-sensitive)
          if (!member.Password || member.Password.trim() !== password.trim()) {
            return {
              success: false,
              member: null,
              error: "Invalid password."
            };
          }

          // Check if member is approved
          if (!member.Status || member.Status !== "Approved") {
            return {
              success: false,
              member: null,
              error: "Your membership is pending admin approval."
            };
          }

          // Login successful
          return {
            success: true,
            member: member,
            error: null
          };
        } catch (error) {
          console.error("Login verification error:", error);
          return {
            success: false,
            member: null,
            error: error.message || "An error occurred during login. Please try again."
          };
        }
      }

      /**
       * Handle successful login
       * @param {Object} member - Member object
       */
      function handleLoginSuccess(member) {
        // Store minimal session data in sessionStorage (no password)
        try {
          // Set login flag
          sessionStorage.setItem("isLoggedIn", "true");
          
          // Store member info
          sessionStorage.setItem("memberFullName", member.FullName || "");
          sessionStorage.setItem("memberFlatNumber", member.FlatNumber || "");
          
          // Store login timestamp for session management
          sessionStorage.setItem("loginTime", new Date().toISOString());
          
          // Store complete member data (without password) for reference
          sessionStorage.setItem("loggedInMember", JSON.stringify({
            fullName: member.FullName,
            mobileNumber: member.MobileNumber,
            emailAddress: member.EmailAddress,
            flatNumber: member.FlatNumber,
            loginTime: new Date().toISOString()
          }));
        } catch (e) {
          console.error("Error storing session data:", e);
        }

        // Show success message
        showLoginMessage("Login successful! Redirecting...", "success");

        // Redirect to dashboard after short delay
        // Use replace to prevent back button navigation
        setTimeout(function () {
          window.location.replace("index.html");
        }, 1000);
      }

      // Login form submission handler
      if (loginForm) {
        loginForm.addEventListener("submit", async function (event) {
          event.preventDefault();

          try {
            // Hide any previous messages
            hideLoginMessage();

            // Get form values
            const mobileNumber = loginMobileInput ? loginMobileInput.value.trim() : "";
            const flatNumber = loginFlatInput ? loginFlatInput.value.trim() : "";
            const password = loginPasswordInput ? loginPasswordInput.value.trim() : "";

            // Basic validation
            if (!mobileNumber) {
              showLoginMessage("Please enter your mobile number.", "error");
              if (loginMobileInput) loginMobileInput.focus();
              return;
            }

            if (!flatNumber) {
              showLoginMessage("Please enter your flat number.", "error");
              if (loginFlatInput) loginFlatInput.focus();
              return;
            }

            if (!password) {
              showLoginMessage("Please enter your password.", "error");
              if (loginPasswordInput) loginPasswordInput.focus();
              return;
            }

            // Set button to loading state
            setLoginButtonLoading(true);

            // Verify credentials
            const result = await verifyLoginCredentials(mobileNumber, flatNumber, password);

            if (result.success) {
              // Login successful
              handleLoginSuccess(result.member);
            } else {
              // Login failed
              setLoginButtonLoading(false);
              showLoginMessage(result.error || "Login failed. Please try again.", "error");
            }
          } catch (error) {
            console.error("Login form submission error:", error);
            setLoginButtonLoading(false);
            showLoginMessage("An unexpected error occurred. Please try again.", "error");
          }
        });
      }

      // ===== SIGN-UP MODAL LOGIC =====
      var signUpModal = document.getElementById("signUpModal");
      var openSignUpNav = document.getElementById("openSignUpNav");
      var openSignUpHero = document.getElementById("openSignUpHero");
      var openSignUpHow = document.getElementById("openSignUpHow");
      var signUpCloseBtn = document.getElementById("signUpCloseBtn");
      var signUpCancelBtn = document.getElementById("signUpCancelBtn");
      var signUpForm = document.getElementById("signUpForm");

      var signupFullNameInput = document.getElementById("signupFullName");
      var signupMobileInput = document.getElementById("signupMobileNumber");
      var signupEmailInput = document.getElementById("signupEmail");
      var signupFlatInput = document.getElementById("signupFlatNumber");
      var signupPasswordInput = document.getElementById("signupPassword");
      var signupConfirmPasswordInput = document.getElementById("signupConfirmPassword");

      var errorSignupFullName = document.getElementById("errorSignupFullName");
      var errorSignupMobile = document.getElementById("errorSignupMobileNumber");
      var errorSignupEmail = document.getElementById("errorSignupEmail");
      var errorSignupFlat = document.getElementById("errorSignupFlatNumber");
      var errorSignupPassword = document.getElementById("errorSignupPassword");
      var errorSignupConfirmPassword = document.getElementById("errorSignupConfirmPassword");

      function openSignUpModal() {
        if (!signUpModal) return;
        signUpModal.classList.add("active");
        signUpModal.setAttribute("aria-hidden", "false");
        if (signupFullNameInput) {
          setTimeout(function () {
            signupFullNameInput.focus();
          }, 50);
        }
      }

      function closeSignUpModal() {
        if (!signUpModal) return;
        signUpModal.classList.remove("active");
        signUpModal.setAttribute("aria-hidden", "true");
        clearSignUpErrors();
        hideApiMessage();
        setButtonLoading(false);
      }

      if (openSignUpNav) {
        openSignUpNav.addEventListener("click", openSignUpModal);
      }
      if (openSignUpHero) {
        openSignUpHero.addEventListener("click", openSignUpModal);
      }
      if (openSignUpHow) {
        openSignUpHow.addEventListener("click", openSignUpModal);
      }
      if (signUpCloseBtn) {
        signUpCloseBtn.addEventListener("click", closeSignUpModal);
      }
      if (signUpCancelBtn) {
        signUpCancelBtn.addEventListener("click", function () {
          if (signUpForm) {
            signUpForm.reset();
          }
          closeSignUpModal();
        });
      }

      if (signUpModal) {
        signUpModal.addEventListener("click", function (event) {
          if (event.target === signUpModal) {
            closeSignUpModal();
          }
        });
      }

      // Keep mobile field numeric-only and limit to 10 digits
      if (signupMobileInput) {
        signupMobileInput.addEventListener("input", function () {
          this.value = this.value.replace(/\D/g, "");
          // Limit to 10 digits
          if (this.value.length > 10) {
            this.value = this.value.substring(0, 10);
          }
          // Clear error on input if valid
          if (this.value.length === 10 && /^[1-9][0-9]{9}$/.test(this.value)) {
            clearFieldError(signupMobileInput, errorSignupMobile);
          }
        });
      }

      /**
       * Validate Full Name
       * @param {string} fullName - Full name to validate
       * @returns {Object} { valid: boolean, message: string }
       */
      function validateFullName(fullName) {
        var trimmed = fullName.trim();
        if (!trimmed) {
          return { valid: false, message: "Full Name is required." };
        }
        if (trimmed.length < 2) {
          return { valid: false, message: "Full Name must be at least 2 characters." };
        }
        if (trimmed.length > 100) {
          return { valid: false, message: "Full Name must be less than 100 characters." };
        }
        // Check for valid name format (letters, spaces, hyphens, apostrophes)
        if (!/^[a-zA-Z\s\-'\.]+$/.test(trimmed)) {
          return { valid: false, message: "Full Name can only contain letters, spaces, hyphens, and apostrophes." };
        }
        return { valid: true, message: "" };
      }

      /**
       * Validate Mobile Number
       * @param {string} mobile - Mobile number to validate
       * @returns {Object} { valid: boolean, message: string }
       */
      function validateMobileNumber(mobile) {
        var trimmed = mobile.trim();
        if (!trimmed) {
          return { valid: false, message: "Mobile Number is required." };
        }
        if (!/^[0-9]+$/.test(trimmed)) {
          return { valid: false, message: "Mobile Number must contain only numbers." };
        }
        if (trimmed.length !== 10) {
          return { valid: false, message: "Mobile Number must be exactly 10 digits." };
        }
        // Check if starts with valid digit (not 0)
        if (trimmed[0] === "0") {
          return { valid: false, message: "Mobile Number cannot start with 0." };
        }
        return { valid: true, message: "" };
      }

      /**
       * Validate Email Address
       * @param {string} email - Email to validate
       * @returns {Object} { valid: boolean, message: string }
       */
      function validateEmail(email) {
        var trimmed = email.trim();
        if (!trimmed) {
          return { valid: false, message: "Email Address is required." };
        }
        // Use HTML5 validation if available
        var emailInput = signupEmailInput;
        if (emailInput) {
          emailInput.value = trimmed;
          if (!emailInput.checkValidity()) {
            return { valid: false, message: "Please enter a valid email address." };
          }
        } else {
          // Fallback regex validation
          var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(trimmed)) {
            return { valid: false, message: "Please enter a valid email address." };
          }
        }
        return { valid: true, message: "" };
      }

      /**
       * Validate Flat Number
       * @param {string} flatNumber - Flat number to validate
       * @returns {Object} { valid: boolean, message: string }
       */
      function validateFlatNumber(flatNumber) {
        var trimmed = flatNumber.trim();
        if (!trimmed) {
          return { valid: false, message: "Flat Number is required." };
        }
        if (trimmed.length < 2) {
          return { valid: false, message: "Flat Number must be at least 2 characters." };
        }
        if (trimmed.length > 20) {
          return { valid: false, message: "Flat Number must be less than 20 characters." };
        }
        // Allow alphanumeric, hyphens, and forward slashes (e.g., A-101, B/202)
        if (!/^[a-zA-Z0-9\-\/]+$/.test(trimmed)) {
          return { valid: false, message: "Flat Number can only contain letters, numbers, hyphens, and slashes." };
        }
        return { valid: true, message: "" };
      }

      // Real-time validation for Full Name
      if (signupFullNameInput) {
        signupFullNameInput.addEventListener("blur", function () {
          var validation = validateFullName(this.value);
          if (!validation.valid) {
            showFieldError(signupFullNameInput, errorSignupFullName, validation.message);
          } else {
            clearFieldError(signupFullNameInput, errorSignupFullName);
          }
        });

        signupFullNameInput.addEventListener("input", function () {
          // Clear error on input if field becomes valid
          var validation = validateFullName(this.value);
          if (validation.valid) {
            clearFieldError(signupFullNameInput, errorSignupFullName);
          }
        });
      }

      // Real-time validation for Mobile Number
      if (signupMobileInput) {
        signupMobileInput.addEventListener("blur", function () {
          var validation = validateMobileNumber(this.value);
          if (!validation.valid) {
            showFieldError(signupMobileInput, errorSignupMobile, validation.message);
          } else {
            clearFieldError(signupMobileInput, errorSignupMobile);
          }
        });
      }

      // Real-time validation for Email
      if (signupEmailInput) {
        signupEmailInput.addEventListener("blur", function () {
          var validation = validateEmail(this.value);
          if (!validation.valid) {
            showFieldError(signupEmailInput, errorSignupEmail, validation.message);
          } else {
            clearFieldError(signupEmailInput, errorSignupEmail);
          }
        });

        signupEmailInput.addEventListener("input", function () {
          // Clear error on input if field becomes valid
          var validation = validateEmail(this.value);
          if (validation.valid) {
            clearFieldError(signupEmailInput, errorSignupEmail);
          }
        });
      }

      // Real-time validation for Flat Number
      if (signupFlatInput) {
        signupFlatInput.addEventListener("blur", function () {
          var validation = validateFlatNumber(this.value);
          if (!validation.valid) {
            showFieldError(signupFlatInput, errorSignupFlat, validation.message);
          } else {
            clearFieldError(signupFlatInput, errorSignupFlat);
          }
        });

        signupFlatInput.addEventListener("input", function () {
          // Clear error on input if field becomes valid
          var validation = validateFlatNumber(this.value);
          if (validation.valid) {
            clearFieldError(signupFlatInput, errorSignupFlat);
          }
        });
      }

      // Password Toggle Visibility
      var togglePasswordBtn = document.getElementById("togglePassword");
      var toggleConfirmPasswordBtn = document.getElementById("toggleConfirmPassword");

      if (togglePasswordBtn && signupPasswordInput) {
        togglePasswordBtn.addEventListener("click", function () {
          var type = signupPasswordInput.getAttribute("type") === "password" ? "text" : "password";
          signupPasswordInput.setAttribute("type", type);
          togglePasswordBtn.textContent = type === "password" ? "üëÅ" : "üôà";
        });
      }

      if (toggleConfirmPasswordBtn && signupConfirmPasswordInput) {
        toggleConfirmPasswordBtn.addEventListener("click", function () {
          var type = signupConfirmPasswordInput.getAttribute("type") === "password" ? "text" : "password";
          signupConfirmPasswordInput.setAttribute("type", type);
          toggleConfirmPasswordBtn.textContent = type === "password" ? "üëÅ" : "üôà";
        });
      }

      /**
       * Validate password strength
       * Requirements: Minimum 8 characters, at least 1 uppercase letter, at least 1 number
       * @param {string} password - Password to validate
       * @returns {Object} { valid: boolean, message: string }
       */
      function validatePasswordStrength(password) {
        if (!password || password.length < 8) {
          return {
            valid: false,
            message: "Password must be at least 8 characters long."
          };
        }

        if (!/[A-Z]/.test(password)) {
          return {
            valid: false,
            message: "Password must contain at least one uppercase letter."
          };
        }

        if (!/[0-9]/.test(password)) {
          return {
            valid: false,
            message: "Password must contain at least one number."
          };
        }

        return { valid: true, message: "" };
      }

      /**
       * Validate password match
       * @param {string} password - Original password
       * @param {string} confirmPassword - Confirmation password
       * @returns {boolean} - True if passwords match
       */
      function validatePasswordMatch(password, confirmPassword) {
        return password === confirmPassword;
      }

      /**
       * Show field error
       * @param {HTMLElement} input - Input element
       * @param {HTMLElement} errorElement - Error message element
       * @param {string} message - Error message
       */
      function showFieldError(input, errorElement, message) {
        if (input) input.classList.add("error");
        if (errorElement) {
          errorElement.textContent = message;
          errorElement.classList.add("visible");
        }
      }

      /**
       * Clear field error
       * @param {HTMLElement} input - Input element
       * @param {HTMLElement} errorElement - Error message element
       */
      function clearFieldError(input, errorElement) {
        if (input) input.classList.remove("error");
        if (errorElement) errorElement.classList.remove("visible");
      }

      // Real-time password validation on blur
      if (signupPasswordInput) {
        signupPasswordInput.addEventListener("blur", function () {
          var password = this.value.trim();
          if (password) {
            var validation = validatePasswordStrength(password);
            if (!validation.valid) {
              showFieldError(signupPasswordInput, errorSignupPassword, validation.message);
            } else {
              clearFieldError(signupPasswordInput, errorSignupPassword);
            }
          } else {
            clearFieldError(signupPasswordInput, errorSignupPassword);
          }
        });

        signupPasswordInput.addEventListener("input", function () {
          // Clear error on input if password becomes valid
          var password = this.value.trim();
          if (password) {
            var validation = validatePasswordStrength(password);
            if (validation.valid) {
              clearFieldError(signupPasswordInput, errorSignupPassword);
              // Also re-validate confirm password if it has a value
              if (signupConfirmPasswordInput && signupConfirmPasswordInput.value.trim()) {
                if (validatePasswordMatch(password, signupConfirmPasswordInput.value.trim())) {
                  clearFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword);
                } else {
                  showFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword, "Passwords do not match.");
                }
              }
            }
          }
        });
      }

      // Real-time confirm password validation on blur and input
      if (signupConfirmPasswordInput) {
        signupConfirmPasswordInput.addEventListener("blur", function () {
          var confirmPassword = this.value.trim();
          var password = signupPasswordInput ? signupPasswordInput.value.trim() : "";
          
          if (confirmPassword && password) {
            if (!validatePasswordMatch(password, confirmPassword)) {
              showFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword, "Passwords do not match.");
            } else {
              clearFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword);
            }
          } else if (confirmPassword) {
            showFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword, "Please enter password first.");
          } else {
            clearFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword);
          }
        });

        signupConfirmPasswordInput.addEventListener("input", function () {
          var confirmPassword = this.value.trim();
          var password = signupPasswordInput ? signupPasswordInput.value.trim() : "";
          
          if (confirmPassword && password) {
            if (validatePasswordMatch(password, confirmPassword)) {
              clearFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword);
            }
          }
        });
      }

      function clearSignUpErrors() {
        [signupFullNameInput, signupMobileInput, signupEmailInput, signupFlatInput, signupPasswordInput, signupConfirmPasswordInput].forEach(function (input) {
          if (input) {
            input.classList.remove("error");
          }
        });
        [errorSignupFullName, errorSignupMobile, errorSignupEmail, errorSignupFlat, errorSignupPassword, errorSignupConfirmPassword].forEach(function (el) {
          if (el) {
            el.classList.remove("visible");
          }
        });
      }

      function validateSignUpForm() {
        var valid = true;
        clearSignUpErrors();

        // Validate Full Name
        var fullName = signupFullNameInput ? signupFullNameInput.value : "";
        var fullNameValidation = validateFullName(fullName);
        if (!fullNameValidation.valid) {
          valid = false;
          showFieldError(signupFullNameInput, errorSignupFullName, fullNameValidation.message);
        }

        // Validate Mobile Number
        var mobile = signupMobileInput ? signupMobileInput.value : "";
        var mobileValidation = validateMobileNumber(mobile);
        if (!mobileValidation.valid) {
          valid = false;
          showFieldError(signupMobileInput, errorSignupMobile, mobileValidation.message);
        }

        // Validate Email
        var email = signupEmailInput ? signupEmailInput.value : "";
        var emailValidation = validateEmail(email);
        if (!emailValidation.valid) {
          valid = false;
          showFieldError(signupEmailInput, errorSignupEmail, emailValidation.message);
        }

        // Validate Flat Number
        var flatNumber = signupFlatInput ? signupFlatInput.value : "";
        var flatValidation = validateFlatNumber(flatNumber);
        if (!flatValidation.valid) {
          valid = false;
          showFieldError(signupFlatInput, errorSignupFlat, flatValidation.message);
        }

        // Validate Password
        var password = signupPasswordInput ? signupPasswordInput.value.trim() : "";
        if (!password) {
          valid = false;
          if (signupPasswordInput && errorSignupPassword) {
            showFieldError(signupPasswordInput, errorSignupPassword, "Password is required.");
          }
        } else {
          var passwordValidation = validatePasswordStrength(password);
          if (!passwordValidation.valid) {
            valid = false;
            if (signupPasswordInput && errorSignupPassword) {
              showFieldError(signupPasswordInput, errorSignupPassword, passwordValidation.message);
            }
          }
        }

        // Validate Confirm Password
        var confirmPassword = signupConfirmPasswordInput ? signupConfirmPasswordInput.value.trim() : "";
        if (!confirmPassword) {
          valid = false;
          if (signupConfirmPasswordInput && errorSignupConfirmPassword) {
            showFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword, "Please confirm your password.");
          }
        } else if (password && !validatePasswordMatch(password, confirmPassword)) {
          valid = false;
          if (signupConfirmPasswordInput && errorSignupConfirmPassword) {
            showFieldError(signupConfirmPasswordInput, errorSignupConfirmPassword, "Passwords do not match.");
          }
        }

        return valid;
      }

      // API Configuration
      const REGISTER_API_URL = "https://nlcaadyafa-bye9djg9had6dkcx.southindia-01.azurewebsites.net/api/RegisterSocietyMember?code=O9l3Gupl7fQMjtAihp-g0vOLbpImrKeh1UOGLRhxBYmLAzFuLGlEhg==";

      // Get submit button and message element
      var signUpSubmitBtn = document.getElementById("signUpSubmitBtn");
      var signUpApiMessage = document.getElementById("signUpApiMessage");

      /**
       * Show API response message
       * @param {string} message - Message to display
       * @param {string} type - 'success' or 'error'
       */
      function showApiMessage(message, type) {
        if (!signUpApiMessage) return;
        signUpApiMessage.textContent = message;
        signUpApiMessage.className = type;
        signUpApiMessage.style.display = "block";
        
        // Scroll to message if needed
        signUpApiMessage.scrollIntoView({ behavior: "smooth", block: "nearest" });
      }

      /**
       * Hide API response message
       */
      function hideApiMessage() {
        if (!signUpApiMessage) return;
        signUpApiMessage.style.display = "none";
        signUpApiMessage.className = "";
        signUpApiMessage.textContent = "";
      }

      /**
       * Set button loading state
       * @param {boolean} isLoading - Whether button should be in loading state
       */
      function setButtonLoading(isLoading) {
        if (!signUpSubmitBtn) return;
        if (isLoading) {
          signUpSubmitBtn.disabled = true;
          signUpSubmitBtn.textContent = "Submitting‚Ä¶";
        } else {
          signUpSubmitBtn.disabled = false;
          signUpSubmitBtn.textContent = "Register / Sign Up";
        }
      }

      /**
       * Register society member via REST API
       * @param {Object} formData - Form data object
       */
      async function registerSocietyMember(formData) {
        try {
          // Prepare JSON payload
          const payload = {
            fullName: formData.fullName.trim(),
            mobileNumber: formData.mobileNumber.trim(),
            emailAddress: formData.email.trim(),
            flatNumber: formData.flatNumber.trim(),
            password: formData.password.trim()
          };

          // Make API call
          const response = await fetch(REGISTER_API_URL, {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify(payload)
          });

          // Handle response based on status code
          if (response.ok) {
            // 200 OK - Success
            showApiMessage("Registration submitted successfully. Admin approval pending.", "success");
            
            // Clear form after short delay
            setTimeout(function() {
              signUpForm.reset();
              hideApiMessage();
              closeSignUpModal();
            }, 2000);
            
            return { success: true };
          } else if (response.status === 409) {
            // 409 Conflict - Duplicate flat
            let errorMessage = "Registration failed. This flat number is already registered.";
            
            // Try to get error message from response body
            try {
              const errorData = await response.json();
              if (errorData.message || errorData.error) {
                errorMessage = errorData.message || errorData.error;
              }
            } catch (e) {
              // If response is not JSON, use default message
            }
            
            showApiMessage(errorMessage, "error");
            setButtonLoading(false);
            return { success: false, error: errorMessage };
          } else {
            // Other errors (400, 500, etc.)
            let errorMessage = "Registration failed. Please try again later.";
            
            // Try to get error message from response body
            try {
              const errorData = await response.json();
              if (errorData.message || errorData.error) {
                errorMessage = errorData.message || errorData.error;
              }
            } catch (e) {
              // If response is not JSON, use default message
            }
            
            showApiMessage(errorMessage, "error");
            setButtonLoading(false);
            return { success: false, error: errorMessage };
          }
        } catch (error) {
          // Network error or other exceptions
          console.error("Registration API error:", error);
          showApiMessage("Network error. Please check your connection and try again.", "error");
          setButtonLoading(false);
          return { success: false, error: error.message };
        }
      }

      if (signUpForm) {
        signUpForm.addEventListener("submit", async function (event) {
          event.preventDefault();
          
          try {
            // Hide any previous messages
            hideApiMessage();
            
            // Validate form
            var isValid = false;
            try {
              isValid = validateSignUpForm();
            } catch (validationError) {
              console.error("Validation error:", validationError);
              showApiMessage("Form validation error. Please check all fields.", "error");
              return;
            }
            
            if (!isValid) {
              // Show message that validation failed
              showApiMessage("Please fill all required fields correctly.", "error");
              return;
            }

            // Collect form values (only fields that go to API)
            const formData = {
              fullName: signupFullNameInput ? signupFullNameInput.value : "",
              mobileNumber: signupMobileInput ? signupMobileInput.value : "",
              email: signupEmailInput ? signupEmailInput.value : "",
              flatNumber: signupFlatInput ? signupFlatInput.value : "",
              password: signupPasswordInput ? signupPasswordInput.value : ""
            };

            // Set button to loading state
            setButtonLoading(true);

            // Call API
            await registerSocietyMember(formData);
          } catch (error) {
            console.error("Form submission error:", error);
            showApiMessage("An error occurred. Please try again.", "error");
            setButtonLoading(false);
          }
        });
      }
    })();
  </script>
</body>
</html>